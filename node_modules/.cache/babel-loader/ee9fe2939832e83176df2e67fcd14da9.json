{"ast":null,"code":"const {\n  getSitelinkUrl\n} = require('./sitelinks');\n\nmodule.exports = function (sitelinks) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    addUrl\n  } = options;\n  return Object.keys(sitelinks).reduce(aggregateValues(sitelinks, addUrl), {});\n};\n\nconst aggregateValues = (sitelinks, addUrl) => (index, key) => {\n  // Accomodating for wikibase-cli, which might set the sitelink to null\n  // to signify that a requested sitelink was not found\n  if (sitelinks[key] == null) {\n    index[key] = sitelinks[key];\n    return index;\n  }\n\n  const {\n    title\n  } = sitelinks[key];\n\n  if (addUrl) {\n    index[key] = {\n      title,\n      url: getSitelinkUrl(key, title)\n    };\n  } else {\n    index[key] = title;\n  }\n\n  return index;\n};","map":{"version":3,"names":["getSitelinkUrl","require","module","exports","sitelinks","options","addUrl","Object","keys","reduce","aggregateValues","index","key","title","url"],"sources":["/Users/aarongmduran/Desktop/tornados/tornados/node_modules/wikibase-sdk/lib/helpers/simplify_sitelinks.js"],"sourcesContent":["const { getSitelinkUrl } = require('./sitelinks')\n\nmodule.exports = (sitelinks, options = {}) => {\n  const { addUrl } = options\n  return Object.keys(sitelinks).reduce(aggregateValues(sitelinks, addUrl), {})\n}\n\nconst aggregateValues = (sitelinks, addUrl) => (index, key) => {\n  // Accomodating for wikibase-cli, which might set the sitelink to null\n  // to signify that a requested sitelink was not found\n  if (sitelinks[key] == null) {\n    index[key] = sitelinks[key]\n    return index\n  }\n  const { title } = sitelinks[key]\n  if (addUrl) {\n    index[key] = { title, url: getSitelinkUrl(key, title) }\n  } else {\n    index[key] = title\n  }\n  return index\n}\n"],"mappings":"AAAA,MAAM;EAAEA;AAAF,IAAqBC,OAAO,CAAC,aAAD,CAAlC;;AAEAC,MAAM,CAACC,OAAP,GAAiB,UAACC,SAAD,EAA6B;EAAA,IAAjBC,OAAiB,uEAAP,EAAO;EAC5C,MAAM;IAAEC;EAAF,IAAaD,OAAnB;EACA,OAAOE,MAAM,CAACC,IAAP,CAAYJ,SAAZ,EAAuBK,MAAvB,CAA8BC,eAAe,CAACN,SAAD,EAAYE,MAAZ,CAA7C,EAAkE,EAAlE,CAAP;AACD,CAHD;;AAKA,MAAMI,eAAe,GAAG,CAACN,SAAD,EAAYE,MAAZ,KAAuB,CAACK,KAAD,EAAQC,GAAR,KAAgB;EAC7D;EACA;EACA,IAAIR,SAAS,CAACQ,GAAD,CAAT,IAAkB,IAAtB,EAA4B;IAC1BD,KAAK,CAACC,GAAD,CAAL,GAAaR,SAAS,CAACQ,GAAD,CAAtB;IACA,OAAOD,KAAP;EACD;;EACD,MAAM;IAAEE;EAAF,IAAYT,SAAS,CAACQ,GAAD,CAA3B;;EACA,IAAIN,MAAJ,EAAY;IACVK,KAAK,CAACC,GAAD,CAAL,GAAa;MAAEC,KAAF;MAASC,GAAG,EAAEd,cAAc,CAACY,GAAD,EAAMC,KAAN;IAA5B,CAAb;EACD,CAFD,MAEO;IACLF,KAAK,CAACC,GAAD,CAAL,GAAaC,KAAb;EACD;;EACD,OAAOF,KAAP;AACD,CAdD"},"metadata":{},"sourceType":"script"}