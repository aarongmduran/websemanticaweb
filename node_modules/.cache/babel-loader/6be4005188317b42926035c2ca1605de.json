{"ast":null,"code":"const truthyPropertyClaims = propClaims => {\n  const aggregate = propClaims.reduce(aggregatePerRank, {}); // on truthyness: https://www.mediawiki.org/wiki/Wikibase/Indexing/RDF_Dump_Format#Truthy_statements\n\n  return aggregate.preferred || aggregate.normal || [];\n};\n\nconst nonDeprecatedPropertyClaims = propClaims => {\n  return propClaims.filter(claim => claim.rank !== 'deprecated');\n};\n\nconst aggregatePerRank = (aggregate, claim) => {\n  const {\n    rank\n  } = claim;\n  aggregate[rank] || (aggregate[rank] = []);\n  aggregate[rank].push(claim);\n  return aggregate;\n};\n\nconst truthyClaims = claims => {\n  const truthClaimsOnly = {};\n  Object.keys(claims).forEach(property => {\n    truthClaimsOnly[property] = truthyPropertyClaims(claims[property]);\n  });\n  return truthClaimsOnly;\n};\n\nmodule.exports = {\n  truthyClaims,\n  truthyPropertyClaims,\n  nonDeprecatedPropertyClaims\n};","map":{"version":3,"names":["truthyPropertyClaims","propClaims","aggregate","reduce","aggregatePerRank","preferred","normal","nonDeprecatedPropertyClaims","filter","claim","rank","push","truthyClaims","claims","truthClaimsOnly","Object","keys","forEach","property","module","exports"],"sources":["/Users/aarongmduran/Desktop/tornados/tornados/node_modules/wikibase-sdk/lib/helpers/rank.js"],"sourcesContent":["const truthyPropertyClaims = propClaims => {\n  const aggregate = propClaims.reduce(aggregatePerRank, {})\n  // on truthyness: https://www.mediawiki.org/wiki/Wikibase/Indexing/RDF_Dump_Format#Truthy_statements\n  return aggregate.preferred || aggregate.normal || []\n}\n\nconst nonDeprecatedPropertyClaims = propClaims => {\n  return propClaims.filter(claim => claim.rank !== 'deprecated')\n}\n\nconst aggregatePerRank = (aggregate, claim) => {\n  const { rank } = claim\n  aggregate[rank] || (aggregate[rank] = [])\n  aggregate[rank].push(claim)\n  return aggregate\n}\n\nconst truthyClaims = claims => {\n  const truthClaimsOnly = {}\n  Object.keys(claims).forEach(property => {\n    truthClaimsOnly[property] = truthyPropertyClaims(claims[property])\n  })\n  return truthClaimsOnly\n}\n\nmodule.exports = { truthyClaims, truthyPropertyClaims, nonDeprecatedPropertyClaims }\n"],"mappings":"AAAA,MAAMA,oBAAoB,GAAGC,UAAU,IAAI;EACzC,MAAMC,SAAS,GAAGD,UAAU,CAACE,MAAX,CAAkBC,gBAAlB,EAAoC,EAApC,CAAlB,CADyC,CAEzC;;EACA,OAAOF,SAAS,CAACG,SAAV,IAAuBH,SAAS,CAACI,MAAjC,IAA2C,EAAlD;AACD,CAJD;;AAMA,MAAMC,2BAA2B,GAAGN,UAAU,IAAI;EAChD,OAAOA,UAAU,CAACO,MAAX,CAAkBC,KAAK,IAAIA,KAAK,CAACC,IAAN,KAAe,YAA1C,CAAP;AACD,CAFD;;AAIA,MAAMN,gBAAgB,GAAG,CAACF,SAAD,EAAYO,KAAZ,KAAsB;EAC7C,MAAM;IAAEC;EAAF,IAAWD,KAAjB;EACAP,SAAS,CAACQ,IAAD,CAAT,KAAoBR,SAAS,CAACQ,IAAD,CAAT,GAAkB,EAAtC;EACAR,SAAS,CAACQ,IAAD,CAAT,CAAgBC,IAAhB,CAAqBF,KAArB;EACA,OAAOP,SAAP;AACD,CALD;;AAOA,MAAMU,YAAY,GAAGC,MAAM,IAAI;EAC7B,MAAMC,eAAe,GAAG,EAAxB;EACAC,MAAM,CAACC,IAAP,CAAYH,MAAZ,EAAoBI,OAApB,CAA4BC,QAAQ,IAAI;IACtCJ,eAAe,CAACI,QAAD,CAAf,GAA4BlB,oBAAoB,CAACa,MAAM,CAACK,QAAD,CAAP,CAAhD;EACD,CAFD;EAGA,OAAOJ,eAAP;AACD,CAND;;AAQAK,MAAM,CAACC,OAAP,GAAiB;EAAER,YAAF;EAAgBZ,oBAAhB;EAAsCO;AAAtC,CAAjB"},"metadata":{},"sourceType":"script"}